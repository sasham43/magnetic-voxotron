/*! magnetic-voxotron 2016-09-25 */
angular.module("MagVoxApp",["ngRoute"]);var socket=io();angular.module("MagVoxApp").config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"/views/splash.html",controller:"NowPlayingController",controllerAs:"npc"}).when("/spotify",{templateUrl:"/views/spotify.html",controller:"SpotifyController",controllerAs:"sc"}).when("/cd",{templateUrl:"/views/cd.html",controller:"CDController",controllerAs:"cc"}).when("/npr",{templateUrl:"/views/npr.html",controller:"NPRController",controllerAs:"nc"}).when("/settings",{templateUrl:"/views/settings.html",controller:"SettingsController",controllerAs:"setc"}),b.html5Mode(!0)}]),angular.module("MagVoxApp").controller("IndexController",["$http","$location",function(a,b){var c=this;c.nav=function(a){b.url(a)},console.log("index controller loaded.")}]),angular.module("MagVoxApp").controller("NowPlayingController",["$http","NowPlayingFactory",function(a,b){var c=this;c.nprPlaying=b.nprPlaying,c.spotifyPlaying=b.spotifyPlaying,c.cdPlaying=b.cdPlaying,c.currentService="",c.checkService=function(){c.nprPlaying&&(c.currentService="NPR"),c.spotifyPlaying&&(c.currentService="Spotify"),c.cdPlaying&&(c.currentService="CD"),c.nprPlaying||c.spotifyPlaying||c.cdPlaying||(c.currentService="Nothing Selected"),console.log("current service:",c.currentService,b.spotifyPlaying)},c.checkService(),console.log("now playing controller loaded.")}]),angular.module("MagVoxApp").controller("SpotifyController",["$http","$scope","NowPlayingFactory",function(a,b,c){var d=this;d.playlistNames=[],d.trackList=[],d.showPlaylistContainer=!0,d.showTrackList=!1,d.trackNumber=0,d.playing=!1,c.spotifyPlaying=d.playing,d.loader=function(){return 0==d.playlistNames.length},d.back=function(){d.showTrackList=!1,d.showPlaylistContainer=!0},d.cmd=function(a){console.log("spotify command:",a),socket.emit("spotify command",a)},d.selectPlaylist=function(a){socket.emit("spotify select playlist",{index:a}),d.showPlaylistContainer=!1,d.showTrackList=!0},socket.on("spotify status",function(a){console.log("spotify status",a),b.$apply(function(){d.playlistNames=a.playlistNames,d.trackList=a.trackList,d.trackNumber=a.trackNumber,c.spotifyPlaying=a.playing})}),socket.on("spotify playlist",function(a){console.log("spotify playlist",a)}),d.status=function(){console.log("getting spotify status"),socket.emit("get spotify status")},d.status(),console.log("spotify controller loaded.")}]),angular.module("MagVoxApp").controller("NPRController",["$http","$scope","NowPlayingFactory",function(a,b,c){var d=this;d.playing=!1,c.nprPlaying=d.playing,d.title,socket.on("connected",function(a){console.log("socket connected.")}),socket.on("disconnected",function(a){console.log("socket disconnected.")}),socket.on("npr status",function(a){console.log("npr status:",a),b.$apply(d.playing=a.playing,d.title=a.title,d.started=a.started,c.nprPlaying=d.playing)}),socket.on("npr recommendations",function(a){console.log("npr recommendations:",a)}),d.go=function(){d.started?d.cmd("play"):socket.emit("get npr recommendations")},d.cmd=function(a){socket.emit("npr command",{cmd:a}),console.log("npr command:",a)},d.status=function(){socket.emit("get npr status")},d.status(),console.log("npr controller loaded.")}]),angular.module("MagVoxApp").controller("CDController",["$http",function(a){console.log("cd controller loaded.")}]),angular.module("MagVoxApp").controller("SettingsController",["$http",function(a){console.log("settings controller loaded.")}]),angular.module("MagVoxApp").factory("NowPlayingFactory",["$http",function(a){var b=!1,c=!1,d=!1;return{nprPlaying:b,spotifyPlaying:c,cdPlaying:d}}]);